<!DOCTYPE html>

<style type="text/css">
    .ng-pageslide{
        background: #eee;
    }
    .ng-travel{
        background: #bbbbbb;
    }
</style>
<div ng-controller="routesController">
    <div style="overflow: visible">

        <div ng-controller="sarthiController">

            <pageslide ps-open="isTravelPanelOpen" ps-size="400px" ps-side="left" ps-class="ng-travel">
                <!--<div ng-hide="loader">-->
                <!--<img src="images/loading.gif" class="img-responsive" style="width: 100%"/>-->
                <!--</div>-->
                <div ng-hide="isTravelPanelDataHidden" class="travel-pageslide">
                    <p>
                    <div class="page-header text-center">
                        <h1><small>Trip Overview</small></h1>
                    </div>
                    <div ng-repeat="leg in legs">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                {{getSourceCityName($index)}}
                            </div>
                        </div>
                        <div ng-repeat="segment in leg.defaultRoute.segments">
                            <div ng-if="segment.isMajor != 0">
                                <div class="panel panel-default travel-panel" ng-href='#' ng-click="openTravelModesPanel(leg)">
                                    <div class="panel-body">
                                        <div class="col-xs-3">
                                            <i class="glyphicon {{getModeIcon(segment)}} glyphicon-large" style="font-size: 2em; margin-top: 30%"></i>
                                        </div>
                                        <div class="col-xs-3">
                                            <div class="row">
                                                {{getDateFormatted(segment) | date:'mediumDate'}}
                                            </div>
                                            <div class="row">
                                                {{getDateFormatted(segment) | date:'EEE'}}
                                            </div>
                                            <div class="row">
                                                {{getDuration(segment)}}
                                            </div>
                                        </div>
                                        <div class="col-xs-3">
                                            {{getDateFormatted(segment) | date:'shortTime'}}
                                        </div>
                                        <div class="col-xs-3">
                                            {{getPrice(segment) | currency:"&#8377;"}}
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="segment.majorIndex != leg.defaultRoute.majorCount">
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            VIA {{getStopName($index, leg.defaultRoute)}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="$last">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    {{getDestinationCityName($index)}}
                                </div>
                            </div>
                        </div>
                    </div>
                    </p>
                </div>
            </pageslide>
            <pageslide ps-open="isTravelModesPanelOpen" ps-side="left">
                <div>
                    <div class="page-header text-center">
                        <h1><small>{{getSourceCityFromLeg()}} - {{getDestinationCityFromLeg()}}</small></h1>
                    </div>
                    <div class="row">
                        <div ng-repeat="route in routes">
                            <div ng-repeat="segment in route.segments">
                                <div ng-if="segment.isMajor != 0">
                                    <div class="panel panel-default" ng-href='#'>
                                        <div class="panel-body">
                                            <div class="col-xs-2">
                                                <i class="glyphicon {{getModeIcon(segment)}} glyphicon-large" style="font-size: 2em; margin-top: 30%"></i>
                                            </div>
                                            <div class="col-xs-2">
                                                <div class="row">
                                                    {{getDateFormatted(segment) | date:'mediumDate'}}
                                                </div>
                                                <div class="row">
                                                    {{getDateFormatted(segment) | date:'EEE'}}
                                                </div>
                                                <div class="row">
                                                    {{getDuration(segment)}}
                                                </div>
                                            </div>
                                            <div class="col-xs-2">
                                                {{getDateFormatted(segment) | date:'shortTime'}}
                                            </div>
                                            <div class="col-xs-2">
                                                {{getPrice(segment) | currency:"&#8377;"}}
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="segment.majorIndex != route.majorCount">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                VIA {{getStopName($index, route)}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </pageslide>
            <div class="col-sm-9">
                <div id="map-canvas" ng-controller="sanjayaController"></div>
            </div>
        </div>
    </div>
</div>
